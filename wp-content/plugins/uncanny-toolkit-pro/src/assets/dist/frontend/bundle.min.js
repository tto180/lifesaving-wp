(()=>{"use strict";var e={653:function(e,t,n){var s,o,i,r=n(669);"undefined"!=typeof window&&window,o=[n(731)],void 0===(i="function"==typeof(s=function(e){var t=function(){var t,n={},s=[];function o(e){e||(e=document.documentElement);var t=window.getComputedStyle(e,null).fontSize;return parseFloat(t)||16}function i(e,t){var n=t.split(/\d/),s=n[n.length-1];switch(t=parseFloat(t),s){case"px":default:return t;case"em":return t*o(e);case"rem":return t*o();case"vw":return t*document.documentElement.clientWidth/100;case"vh":return t*document.documentElement.clientHeight/100;case"vmin":case"vmax":var i=document.documentElement.clientWidth/100,r=document.documentElement.clientHeight/100;return t*(0,Math["vmin"===s?"min":"max"])(i,r)}}function a(e,t){var s,o,r,a,l,u,c,d;this.element=e;var f=["min-width","min-height","max-width","max-height"];this.call=function(){for(s in r=function(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}(this.element),u={},n[t])n[t].hasOwnProperty(s)&&(o=n[t][s],a=i(this.element,o.value),l="width"===o.property?r.width:r.height,d=o.mode+"-"+o.property,c="","min"===o.mode&&l>=a&&(c+=o.value),"max"===o.mode&&l<=a&&(c+=o.value),u[d]||(u[d]=""),c&&-1===(" "+u[d]+" ").indexOf(" "+c+" ")&&(u[d]+=" "+c));for(var e in f)f.hasOwnProperty(e)&&(u[f[e]]?this.element.setAttribute(f[e],u[f[e]].substr(1)):this.element.removeAttribute(f[e]))}}function l(t,n){t.elementQueriesSetupInformation||(t.elementQueriesSetupInformation=new a(t,n)),t.elementQueriesSensor||(t.elementQueriesSensor=new e(t,(function(){t.elementQueriesSetupInformation.call()})))}function u(e,o,i,r){if(void 0===n[e]){n[e]=[];var a=s.length;t.innerHTML+="\n"+e+" {animation: 0.1s element-queries;}",t.innerHTML+="\n"+e+" > .resize-sensor {min-width: "+a+"px;}",s.push(e)}n[e].push({mode:o,property:i,value:r})}function c(e){var t;if(document.querySelectorAll&&(t=e?e.querySelectorAll.bind(e):document.querySelectorAll.bind(document)),t||"undefined"==typeof $$||(t=$$),t||void 0===r||(t=r),!t)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return t}function d(t){var n=[],s=[],o=[],i=0,r=-1,a=[];for(var l in t.children)if(t.children.hasOwnProperty(l)&&t.children[l].tagName&&"img"===t.children[l].tagName.toLowerCase()){n.push(t.children[l]);var u=t.children[l].getAttribute("min-width")||t.children[l].getAttribute("data-min-width"),c=t.children[l].getAttribute("data-src")||t.children[l].getAttribute("url");o.push(c);var d={minWidth:u};s.push(d),u?t.children[l].style.display="none":(i=n.length-1,t.children[l].style.display="block")}function f(){var e,l=!1;for(e in n)n.hasOwnProperty(e)&&s[e].minWidth&&t.offsetWidth>s[e].minWidth&&(l=e);if(l||(l=i),r!==l)if(a[l])n[r].style.display="none",n[l].style.display="block",r=l;else{var u=new Image;u.onload=function(){n[l].src=o[l],n[r].style.display="none",n[l].style.display="block",a[l]=!0,r=l},u.src=o[l]}else n[l].src=o[l]}r=i,t.resizeSensorInstance=new e(t,f),f()}var f=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,h=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function p(e){var t,n,s,o;for(e=e.replace(/'/g,'"');null!==(t=f.exec(e));)for(n=t[1]+t[3],s=t[2];null!==(o=h.exec(s));)u(n,o[1],o[2],o[3])}function m(e){var t="";if(e)if("string"==typeof e)-1===(e=e.toLowerCase()).indexOf("min-width")&&-1===e.indexOf("max-width")||p(e);else for(var n=0,s=e.length;n<s;n++)1===e[n].type?-1!==(t=e[n].selectorText||e[n].cssText).indexOf("min-height")||-1!==t.indexOf("max-height")?p(t):-1===t.indexOf("min-width")&&-1===t.indexOf("max-width")||p(t):4===e[n].type?m(e[n].cssRules||e[n].rules):3===e[n].type&&e[n].styleSheet.hasOwnProperty("cssRules")&&m(e[n].styleSheet.cssRules)}var g=!1;this.init=function(){var n="animationstart";void 0!==document.documentElement.style.webkitAnimationName?n="webkitAnimationStart":void 0!==document.documentElement.style.MozAnimationName?n="mozanimationstart":void 0!==document.documentElement.style.OAnimationName&&(n="oanimationstart"),document.body.addEventListener(n,(function(t){var n=t.target,o=n&&window.getComputedStyle(n,null),i=o&&o.getPropertyValue("animation-name");if(i&&-1!==i.indexOf("element-queries")){n.elementQueriesSensor=new e(n,(function(){n.elementQueriesSetupInformation&&n.elementQueriesSetupInformation.call()}));var r=window.getComputedStyle(n.resizeSensor,null).getPropertyValue("min-width");r=parseInt(r.replace("px","")),l(t.target,s[r])}})),g||((t=document.createElement("style")).type="text/css",t.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",t.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(t),g=!0);for(var o=0,i=document.styleSheets.length;o<i;o++)try{document.styleSheets[o].href&&0===document.styleSheets[o].href.indexOf("file://")&&console.warn("CssElementQueries: unable to parse local css files, "+document.styleSheets[o].href),m(document.styleSheets[o].cssRules||document.styleSheets[o].rules||document.styleSheets[o].cssText)}catch(e){}!function(){for(var e=c()("[data-responsive-image],[responsive-image]"),t=0,n=e.length;t<n;t++)d(e[t])}()},this.findElementQueriesElements=function(e){!function(e){var t=c(e);for(var s in n)if(n.hasOwnProperty(s))for(var o=t(s,e),i=0,r=o.length;i<r;i++)l(o[i],s)}(e)},this.update=function(){this.init()}};t.update=function(){t.instance.update()},t.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor):e.resizeSensorInstance&&(e.resizeSensorInstance.detach(),delete e.resizeSensorInstance)},t.init=function(){t.instance||(t.instance=new t),t.instance.init()};return t.findElementQueriesElements=function(e){t.instance.findElementQueriesElements(e)},t.listen=function(){!function(e){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval((function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))}),10);else window.onload=e}(t.init)},t})?s.apply(t,o):s)||(e.exports=i)},731:function(e,t,n){var s,o,i=n(669);"undefined"!=typeof window&&window,void 0===(o="function"==typeof(s=function(){if("undefined"==typeof window)return null;var e="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)},n=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||function(t){e.clearTimeout(t)};function s(e,t){var n=Object.prototype.toString.call(e),s="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||void 0!==i&&e instanceof i||"undefined"!=typeof Elements&&e instanceof Elements,o=0,r=e.length;if(s)for(;o<r;o++)t(e[o]);else t(e)}function o(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function r(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}var a=function(e,i){var l=0;function u(){var e,t,n=[];this.add=function(e){n.push(e)},this.call=function(s){for(e=0,t=n.length;e<t;e++)n[e].call(this,s)},this.remove=function(s){var o=[];for(e=0,t=n.length;e<t;e++)n[e]!==s&&o.push(n[e]);n=o},this.length=function(){return n.length}}function c(e,n){if(e)if(e.resizedAttached)e.resizedAttached.add(n);else{e.resizedAttached=new u,e.resizedAttached.add(n),e.resizeSensor=document.createElement("div"),e.resizeSensor.dir="ltr",e.resizeSensor.className="resize-sensor";var s={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},i={position:"absolute",left:"0px",top:"0px",transition:"0s"};r(e.resizeSensor,s);var a=document.createElement("div");a.className="resize-sensor-expand",r(a,s);var c=document.createElement("div");r(c,i),a.appendChild(c);var d=document.createElement("div");d.className="resize-sensor-shrink",r(d,s);var f=document.createElement("div");r(f,i),r(f,{width:"200%",height:"200%"}),d.appendChild(f),e.resizeSensor.appendChild(a),e.resizeSensor.appendChild(d),e.appendChild(e.resizeSensor);var h=window.getComputedStyle(e),p=h?h.getPropertyValue("position"):null;"absolute"!==p&&"relative"!==p&&"fixed"!==p&&"sticky"!==p&&(e.style.position="relative");var m=!1,g=0,v=o(e),y=0,b=0,_=!0;l=0;var w=function(){if(_){if(0===e.offsetWidth&&0===e.offsetHeight)return void(l||(l=t((function(){l=0,w()}))));_=!1}var n,s;n=e.offsetWidth,s=e.offsetHeight,c.style.width=n+10+"px",c.style.height=s+10+"px",a.scrollLeft=n+10,a.scrollTop=s+10,d.scrollLeft=n+10,d.scrollTop=s+10};e.resizeSensor.resetSensor=w;var C=function(){g=0,m&&(y=v.width,b=v.height,e.resizedAttached&&e.resizedAttached.call(v))},z=function(){v=o(e),(m=v.width!==y||v.height!==b)&&!g&&(g=t(C)),w()},k=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};k(a,"scroll",z),k(d,"scroll",z),l=t((function(){l=0,w()}))}}s(e,(function(e){c(e,i)})),this.detach=function(t){l||(n(l),l=0),a.detach(e,t)},this.reset=function(){e.resizeSensor.resetSensor()}};if(a.reset=function(e){s(e,(function(e){e.resizeSensor.resetSensor()}))},a.detach=function(e,t){s(e,(function(e){e&&(e.resizedAttached&&"function"==typeof t&&(e.resizedAttached.remove(t),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached))}))},"undefined"!=typeof MutationObserver){var l=new MutationObserver((function(e){for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t].addedNodes,s=0;s<n.length;s++)n[s].resizeSensor&&a.reset(n[s])}));document.addEventListener("DOMContentLoaded",(function(e){l.observe(document.body,{childList:!0,subtree:!0})}))}return a})?s.call(t,n,t,e):s)||(e.exports=o)},669:e=>{e.exports=jQuery}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(669),t=n.n(e);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;["course_navigation","update_drip_date","update_drip_date_topic","get_group_courses","try-automator-visibility","get-certificates-dropdowns","get-groups-dropdown"].includes(e)?t().ajax({method:"POST",url:UncannyToolkitPro.restURL+e+"/",data:t().param(n)+"&"+t().param({doing_rest:1}),beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",UncannyToolkitPro.nonce)},success:function(e){i(s)&&s(e)},statusCode:{403:function(){location.reload()}},fail:function(e){i(o)&&o(e)}}):console.error("The ".concat(e," endPoint does not exists"))}var i=function(e){return null!=e},r=function(e){return"object"===s(e)&&null!==e},a=n(669);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,f(s.key),s)}}function d(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,"string");if("object"!=l(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}var h=n(653),p=function(){return d((function e(){u(this,e),this.hasDashboard()&&(h.init(),this.getElements(),this.defineSettings(),this.createCourses(),this.slideAll(),this.filters())}),[{key:"getElements",value:function(){this.$elements={filters:{form:a("#ultp-dashboard-filters-form"),selects:a("#ultp-dashboard-filters-form select")}}}},{key:"defineSettings",value:function(){this.settings={slideToggleDuration:300}}},{key:"createCourses",value:function(){var e=this,t=a(".ultp-dashboard-course");a.each(t,(function(t,n){new m(a(n),e.settings)}))}},{key:"hasDashboard",value:function(){return a(".ultp-dashboard-courses").length>0}},{key:"slideAll",value:function(){a(".ultp-dashboard .ultp-dashboard-btn--expand-all").on("click",(function(){e()})),a(".ultp-dashboard .ultp-dashboard-btn--collapse-all").on("click",(function(){t()}));var e=function(){a.each({courses:{container:".ultp-dashboard-course--collapsed",toggle:".ultp-dashboard-course__toggle-btn"},lessons:{container:".ultp-dashboard-lesson--collapsed",toggle:".ultp-dashboard-lesson__toggle-btn"},topics:{container:".ultp-dashboard-topic--collapsed",toggle:".ultp-dashboard-topic__toggle-btn"},quizzes:{container:".ultp-dashboard-quizzes--collapsed",toggle:".ultp-dashboard-quizzes__header-toggle-btn"}},(function(e,t){var n=a(t.container);a.each(n,(function(e,n){a(n).find(t.toggle).trigger("click")}))}))},t=function(){a.each({courses:{container:".ultp-dashboard-course--expanded",toggle:".ultp-dashboard-course__toggle-btn"},lessons:{container:".ultp-dashboard-lesson--expanded",toggle:".ultp-dashboard-lesson__toggle-btn"},quizzes:{container:".ultp-dashboard-quizzes--expanded",toggle:".ultp-dashboard-quizzes__header-toggle-btn"}},(function(e,t){var n=a(t.container);a.each(n,(function(e,n){a(n).find(t.toggle).trigger("click")}))}))}}},{key:"filters",value:function(){var e=this;this.$elements.filters.selects.on("change",(function(){e.$elements.filters.form.trigger("submit")}))}}])}(),m=function(){return d((function e(t,n){u(this,e),this.dashboardSettings=n,this.defineCssClasses(),this.getElements(t),this.getCourseData(),this.toggleCourseContent(),this.createLessons(),this.createQuizzes()}),[{key:"getCourseData",value:function(){this.courseData={courseId:this.$elements.container.data("course-id"),status:this.$elements.container.data("status"),hasLessons:!!parseInt(this.$elements.container.data("has-lessons")),hasQuizzes:!!parseInt(this.$elements.container.data("has-quizzes")),hasCertificate:!!parseInt(this.$elements.container.data("has-certificate"))}}},{key:"defineCssClasses",value:function(){var e=this;this.cssClasses={toggle:{collapsed:"ultp-dashboard-course--collapsed",collapsing:"ultp-dashboard-course--collapsing",expanding:"ultp-dashboard-course--expanding",expanded:"ultp-dashboard-course--expanded"}},this.cssClasses.allToggle=Object.keys(this.cssClasses.toggle).map((function(t){return e.cssClasses.toggle[t]})).join(" ")}},{key:"getElements",value:function(e){this.$elements={container:e,toggleBtn:e.find(".ultp-dashboard-course__toggle-btn"),content:e.find(".ultp-dashboard-course__content")}}},{key:"toggleCourseContent",value:function(){var e=this;(this.courseData.hasLessons||this.courseData.hasQuizzes)&&this.$elements.toggleBtn.on("click",(function(){e.isCollapsed()?(e.setToggleClass("expanding"),e.$elements.content.hide().slideDown(e.dashboardSettings.slideToggleDuration,(function(){e.setToggleClass("expanded")}))):(e.setToggleClass("collapsing"),e.$elements.content.show().slideUp(e.dashboardSettings.slideToggleDuration,(function(){e.setToggleClass("collapsed")})))}))}},{key:"createLessons",value:function(){var e=this,t=this.$elements.container.find(".ultp-dashboard-lesson");a.each(t,(function(t,n){new g(a(n),e.dashboardSettings,e.courseData)}))}},{key:"createQuizzes",value:function(){var e=this,t=this.$elements.container.find(".ultp-dashboard-course__quizzes .ultp-dashboard-quizzes");a.each(t,(function(t,n){new y(a(n),e.dashboardSettings,e.courseData)}))}},{key:"setToggleClass",value:function(e){this.$elements.container.removeClass(this.cssClasses.allToggle),this.$elements.container.addClass(this.cssClasses.toggle[e])}},{key:"isCollapsed",value:function(){return this.$elements.container.hasClass(this.cssClasses.toggle.collapsed)}}])}(),g=function(){return d((function e(t,n,s){u(this,e),this.dashboardSettings=n,this.courseData=s,this.defineCssClasses(),this.getElements(t),this.getLessonData(),this.toggleLessonContent(),this.createTopics(),this.createQuizzes()}),[{key:"getLessonData",value:function(){var e,t;this.lessonData={course:this.courseData,lessonId:this.$elements.container.data("lesson-id"),availableOn:(e=this.$elements.container.data("available-on"),t=!0,i(e)&&(t=e.isArray?0==e.length:r(e)?Object.keys(e).length:""==e),t?null:parseInt(this.$elements.container.data("available-on"))),isCompleted:!!parseInt(this.$elements.container.data("is-completed")),isAvailable:!!parseInt(this.$elements.container.data("is-available")),hasTopics:!!parseInt(this.$elements.container.data("has-topics")),hasQuizzes:!!parseInt(this.$elements.container.data("has-quizzes"))}}},{key:"defineCssClasses",value:function(){var e=this;this.cssClasses={toggle:{collapsed:"ultp-dashboard-lesson--collapsed",collapsing:"ultp-dashboard-lesson--collapsing",expanding:"ultp-dashboard-lesson--expanding",expanded:"ultp-dashboard-lesson--expanded"}},this.cssClasses.allToggle=Object.keys(this.cssClasses.toggle).map((function(t){return e.cssClasses.toggle[t]})).join(" ")}},{key:"getElements",value:function(e){this.$elements={container:e,toggleBtn:e.find(".ultp-dashboard-lesson__toggle-btn"),content:e.find(".ultp-dashboard-lesson__content")}}},{key:"toggleLessonContent",value:function(){var e=this;(this.lessonData.hasTopics||this.lessonData.hasQuizzes)&&this.$elements.toggleBtn.on("click",(function(){e.isCollapsed()?(e.setToggleClass("expanding"),e.$elements.content.hide().slideDown(e.dashboardSettings.slideToggleDuration,(function(){e.setToggleClass("expanded")}))):(e.setToggleClass("collapsing"),e.$elements.content.show().slideUp(e.dashboardSettings.slideToggleDuration,(function(){e.setToggleClass("collapsed")})))}))}},{key:"createTopics",value:function(){var e=this,t=this.$elements.container.find(".ultp-dashboard-topic");a.each(t,(function(t,n){new v(a(n),e.dashboardSettings,e.courseData,e.lessonData)}))}},{key:"createQuizzes",value:function(){var e=this,t=this.$elements.container.find(".ultp-dashboard-lesson__quizzes .ultp-dashboard-quizzes");a.each(t,(function(t,n){new y(a(n),e.dashboardSettings,e.courseData,e.lessonData)}))}},{key:"setToggleClass",value:function(e){this.$elements.container.removeClass(this.cssClasses.allToggle),this.$elements.container.addClass(this.cssClasses.toggle[e])}},{key:"isCollapsed",value:function(){return this.$elements.container.hasClass(this.cssClasses.toggle.collapsed)}}])}(),v=function(){return d((function e(t,n,s,o){u(this,e),this.dashboardSettings=n,this.courseData=s,this.lessonData=o,this.getElements(t),this.defineCssClasses(),this.getTopicData(),this.toggleTopicContent()}),[{key:"getElements",value:function(e){this.$elements={container:e,toggleBtn:e.find(".ultp-dashboard-topic__toggle-btn"),content:e.find(".ultp-dashboard-topic__content")}}},{key:"getTopicData",value:function(){this.topicData={course:this.courseData,lesson:this.lessonData,topicId:this.$elements.container.data("topic-id"),isCompleted:!!parseInt(this.$elements.container.data("is-completed")),hasQuizzes:!!parseInt(this.$elements.container.data("has-quizzes"))},delete this.topicData.lesson.course}},{key:"defineCssClasses",value:function(){var e=this;this.cssClasses={toggle:{collapsed:"ultp-dashboard-topic--collapsed",collapsing:"ultp-dashboard-topic--collapsing",expanding:"ultp-dashboard-topic--expanding",expanded:"ultp-dashboard-topic--expanded"}},this.cssClasses.allToggle=Object.keys(this.cssClasses.toggle).map((function(t){return e.cssClasses.toggle[t]})).join(" ")}},{key:"setToggleClass",value:function(e){this.$elements.container.removeClass(this.cssClasses.allToggle),this.$elements.container.addClass(this.cssClasses.toggle[e])}},{key:"toggleTopicContent",value:function(){var e=this;console.log(this.topicData.hasQuizzes),this.topicData.hasQuizzes&&(console.log(this.$elements.toggleBtn),this.$elements.toggleBtn.on("click",(function(){e.isCollapsed()?(e.setToggleClass("expanding"),e.$elements.content.hide().slideDown(e.dashboardSettings.slideToggleDuration,(function(){e.setToggleClass("expanded")}))):(e.setToggleClass("collapsing"),e.$elements.content.show().slideUp(e.dashboardSettings.slideToggleDuration,(function(){e.setToggleClass("collapsed")})))})))}},{key:"isCollapsed",value:function(){return this.$elements.container.hasClass(this.cssClasses.toggle.collapsed)}}])}(),y=function(){return d((function e(t,n,s){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];u(this,e),this.dashboardSettings=n,this.courseData=s,this.lessonData=o,this.defineCssClasses(),this.getElements(t),this.toggleQuizzesContent(),this.createIndividualQuizzes()}),[{key:"defineCssClasses",value:function(){var e=this;this.cssClasses={individual:"ultp-dashboard-quiz",toggle:{collapsed:"ultp-dashboard-quizzes--collapsed",collapsing:"ultp-dashboard-quizzes--collapsing",expanding:"ultp-dashboard-quizzes--expanding",expanded:"ultp-dashboard-quizzes--expanded"}},this.cssClasses.allToggle=Object.keys(this.cssClasses.toggle).map((function(t){return e.cssClasses.toggle[t]})).join(" ")}},{key:"getElements",value:function(e){this.$elements={container:e,toggleBtn:e.find(".ultp-dashboard-quizzes__header-toggle-btn"),content:e.find(".ultp-dashboard-quizzes__list")}}},{key:"toggleQuizzesContent",value:function(){var e=this;this.$elements.toggleBtn.on("click",(function(){e.isCollapsed()?(e.setToggleClass("expanding"),e.$elements.content.hide().slideDown(e.dashboardSettings.slideToggleDuration,(function(){e.setToggleClass("expanded")}))):(e.setToggleClass("collapsing"),e.$elements.content.show().slideUp(e.dashboardSettings.slideToggleDuration,(function(){e.setToggleClass("collapsed")})))}))}},{key:"setToggleClass",value:function(e){this.$elements.container.removeClass(this.cssClasses.allToggle),this.$elements.container.addClass(this.cssClasses.toggle[e])}},{key:"isCollapsed",value:function(){return this.$elements.container.hasClass(this.cssClasses.toggle.collapsed)}},{key:"createIndividualQuizzes",value:function(){var e=this,t=this.$elements.container.find(".".concat(this.cssClasses.individual));a.each(t,(function(t,n){new b(a(n),e.dashboardSettings,e.courseData,e.lessonData)}))}}])}(),b=function(){return d((function e(t,n,s){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];u(this,e),this.dashboardSettings=n,this.courseData=s,this.lessonData=o,this.defineCssClasses(),this.getElements(t),this.getQuizData(),this.openStatistics()}),[{key:"getQuizData",value:function(){this.quizData={course:this.courseData,quizId:this.$elements.container.data("quiz-id"),isCompleted:!!parseInt(this.$elements.container.data("is-completed")),passed:!!parseInt(this.$elements.container.data("passed"))},i(this.$elements.container.data("lesson-id"))&&(this.quizData.lesson=this.lessonData,delete this.quizData.lesson.course)}},{key:"defineCssClasses",value:function(){this.cssClasses={statistics:{btn:"ultp-dashboard-btn--statistics",content:""}}}},{key:"getElements",value:function(e){this.$elements={container:e,statistics:{btn:e.find(".".concat(this.cssClasses.statistics.btn))}}}},{key:"openStatistics",value:function(){var e=this;this.$elements.statistics.btn.on("click",(function(t){t.preventDefault(),console.log(e.quizData)}))}}])}();const _=p;var w=n(669);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function k(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,S(s.key),s)}}function S(e){var t=function(e,t){if("object"!=C(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,"string");if("object"!=C(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==C(t)?t:t+""}const $=function(){return e=function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isCourseTimerEnabled()&&this.isLearnDashPost()){this.setSettings(),this.getElements(),this.timerInterval=null,this.initLiveTimers(),this.handleIdleEvents();try{this.listenActivityInsideIframePageLoad()}catch(e){console.log(e)}try{this.listenNewIframes()}catch(e){console.log(e)}}},(t=[{key:"getElements",value:function(){this.$elements={iframes:document.querySelectorAll(".learndash iframe"),liveTimers:document.querySelectorAll(".uotp-time-live")}}},{key:"setSettings",value:function(){this.settings={events:["mousedown","mousemove","keypress","scroll","touchstart","wheel"],eventSettings:{bubbles:!0,cancelable:!1,detail:null}}}},{key:"listenActivityInsideIframePageLoad",value:function(){var e=this;this.$elements.iframes.forEach((function(t){e.listenActivityInIframe(t)}))}},{key:"listenActivityInIframe",value:function(e){var t=this;try{w(e).on("load",(function(){t.settings.events.forEach((function(n){try{e.contentWindow.addEventListener(n,(function(s){return t.triggerEvent(e,n)}))}catch(e){}}))}))}catch(e){console.log(e)}}},{key:"listenNewIframes",value:function(){var e=this;new MutationObserver((function(t){t.forEach((function(t){t.addedNodes.length>0&&t.addedNodes.forEach((function(t){"IFRAME"===t.nodeName&&e.listenActivityInIframe(t)}))}))})).observe(document.body,{childList:!0,subtree:!0,attributeFilter:["disabled"]})}},{key:"triggerEvent",value:function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(t,this.settings.eventSettings.bubbles,this.settings.eventSettings.cancelable,this.settings.eventSettings.detail),e.dispatchEvent(n)}},{key:"initLiveTimers",value:function(){var e=this;this.$elements.liveTimers.forEach((function(t){var n=w(t),s=e.timeToSeconds(n.text());e.timerInterval=setInterval((function(){s++,n.text(e.secondsToTime(s))}),1e3)}))}},{key:"handleIdleEvents",value:function(){var e=this;w(document).on("idle.idleTimer",(function(){clearInterval(e.timerInterval)})),w(document).on("active.idleTimer",(function(){e.initLiveTimers()}))}},{key:"timeToSeconds",value:function(e){var t,n,s=(t=e.split(":").map(Number),n=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,o,i,r,a=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=i.call(n)).done)&&(a.push(s.value),a.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(u)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return 3600*s[0]+60*s[1]+s[2]}},{key:"secondsToTime",value:function(e){return[Math.floor(e/3600),Math.floor(e%3600/60),e%60].map((function(e){return e<10?"0"+e:e})).join(":")}},{key:"isCourseTimerEnabled",value:function(){return i(window.uoTimer)}},{key:"isLearnDashPost",value:function(){return i(document.querySelector(".learndash"))}}])&&k(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();var T=n(669);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function x(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,D(s.key),s)}}function D(e){var t=function(e,t){if("object"!=E(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,"string");if("object"!=E(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==E(t)?t:t+""}const q=function(){return e=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getElements(),this.isLazyCourseNavigation()&&this.getCourseNavigation((function(e){t.setCourseNavigation(e)}))},(t=[{key:"getElements",value:function(){this.$elements={container:T(".ultp-lazy-course-navigation")}}},{key:"getCourseNavigation",value:function(e){o("course_navigation",{course_id:UncannyToolkitProLazyCourseNavigation.course_id,lesson_id:UncannyToolkitProLazyCourseNavigation.lesson_id,topic_id:UncannyToolkitProLazyCourseNavigation.topic_id,nonce:UncannyToolkitProLazyCourseNavigation.nonce},(function(t){e(t)}),(function(){console.error("We couldn't load the course navigation content.")}))}},{key:"setCourseNavigation",value:function(e){this.$elements.container.removeClass("ultp-lazy-course-navigation--loading"),T.each(this.$elements.container,(function(t,n){T(n).html(e.html)}))}},{key:"isLazyCourseNavigation",value:function(){return this.$elements.container.length>0&&i(UncannyToolkitProLazyCourseNavigation)}}])&&x(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();var I=n(669);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function L(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,B(s.key),s)}}function B(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,"string");if("object"!=A(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==A(t)?t:t+""}const O=function(){return e=function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hasShortcode)try{this.getElements(),this.getCertificatesType(),this.getGroupsDropdown(),this.getCoursesDropdown(),this.getQuizDropdown(),this.setGenCronJob()}catch(e){console.log(e)}},t=[{key:"getElements",value:function(){this.$elements={filters:{typeWrapper:document.getElementById("ultp-download-certificates-filter-type"),uo_cert_type:I("#uo_cert_type"),val_uo_cert_type:I("#val_uo_cert_type"),groupWrapper:document.getElementById("ultp-download-certificates-filter-group"),uo_groups:I("#uo_groups"),uo_group_block:document.querySelector(".uo-groups-dropdowns-certificates"),val_uo_groups:I("#val_uo_group"),courseWrapper:document.getElementById("ultp-download-certificates-filter-course"),uo_courses:I("#uo_courses"),uo_courses_block:document.querySelector(".uo-courses-dropdowns-certificates"),val_uo_courses:I("#val_uo_course"),uo_quizzes:I("#uo_quizzes"),uo_quizzes_block:document.querySelector(".uo-quizzes-dropdowns-certificates"),val_uo_quizzes:I("#val_uo_quiz"),uo_submit_btn_html:document.querySelector(".uo-generate-certificates-btn"),uo_submit_btn:I("#uo_generate_certificates_submit"),uo_current_user:I("#uo_current_user"),uo_download_url:I("#uo_download_url"),uo_clear_previous_runs:I("#uo_clear_previous_runs")}},this.$elements.filters.uo_cert_type.select2()}},{key:"setGenCronJob",value:function(){var e=this;this.$elements.filters.uo_submit_btn.on("click",(function(t){var n=e.$elements.filters.uo_cert_type.val();document.getElementById("uo_generate_certificates_submit").disabled=!0,e.$elements.filters.uo_submit_btn_html.classList.add("uo_clicked_btn");var s=e.$elements.filters.uo_groups.val(),o=e.$elements.filters.uo_courses.val(),i=e.$elements.filters.uo_quizzes.val(),r=e.$elements.filters.uo_download_url.val(),a=null!==e.$elements.filters.uo_clear_previous_runs&&e.$elements.filters.uo_clear_previous_runs.is(":checked")?"yes":"no",l=new FormData;l.append("action","set_cron_job"),l.append("certificate_type",n),l.append("group_id",s),l.append("user_id",e.$elements.filters.uo_current_user.val()),l.append("course",o),l.append("quiz",i),l.append("download_url",r),l.append("clear_previous_runs",a),l.append("val_cert_type",n),l.append("val_group_id",s),l.append("val_course",o),l.append("val_quiz",i),fetch(uoCertificates.rest_url+"set-cron-job",{method:"POST",body:l}).then((function(e){return e.json()})).then((function(e){console.log(e),!0===e.success?document.getElementById("uo_certificatesdropdown").innerHTML='<div class="uo-certificates-success">'+uoCertificates.uo_success_msg+"</div>":document.getElementById("uo_certificatesdropdown").innerHTML='<div class="uo-certificates-error">'+uoCertificates.uo_failure_msg+"</div>"})).catch((function(e){console.error(e)}))}))}},{key:"getCertificatesType",value:function(){var e=this;this.$elements.filters.uo_cert_type.on("change",(function(t){e.clearAllErrors(),e.uoHideBlock(e.$elements.filters.uo_group_block),e.uoHideBlock(e.$elements.filters.uo_courses_block),e.uoHideBlock(e.$elements.filters.uo_quizzes_block),e.uoHideBlock(e.$elements.filters.uo_submit_btn_html);var n=e.$elements.filters.uo_cert_type.val(),s=new FormData;s.append("action","get_uo_groups"),"group"===n?s.append("certificates","yes"):s.append("certificates","no"),s.append("uo_current_user",uoCertificates.uo_current_user_id),s.append("uo_cert_type",n),e.$elements.filters.val_uo_cert_type.val(n),e.$elements.filters.typeWrapper.classList.add("ultp-download-certificates-filter--loading"),fetch(uoCertificates.rest_url+"get-groups-dropdown",{method:"POST",body:s}).then((function(e){return e.json()})).then((function(t){if(e.$elements.filters.typeWrapper.classList.remove("ultp-download-certificates-filter--loading"),t.success&&Array.isArray(t.data)&&0!==t.data.length){e.uoDropDownVisibility(n);var s=[];s.push('<option value="">'+uoCertificates.groups_label+"</option>"),t.data.forEach((function(e){return s.push('<option value="'+e.value+'">'+e.text+"</option>")})),e.$elements.filters.uo_groups.html(s),e.$elements.filters.uo_groups.select2()}else e.uoShowErrorBlock(e.$elements.filters.typeWrapper,void 0!==t.msg?t.msg:uoCertificates.i18n.empty)})).catch((function(t){e.$elements.filters.typeWrapper.classList.remove("ultp-download-certificates-filter--loading"),console.error(t)}))}))}},{key:"getGroupsDropdown",value:function(){var e=this;this.$elements.filters.uo_groups.on("change",(function(t){e.clearAllErrors(),e.uoHideBlock(e.$elements.filters.uo_courses_block),e.uoHideBlock(e.$elements.filters.uo_quizzes_block),e.uoHideBlock(e.$elements.filters.uo_submit_btn_html);var n=e.$elements.filters.uo_cert_type.val(),s=new FormData,o=t.target.value;e.$elements.filters.val_uo_groups.val(o),""!==o?"group"!==n?("course"===n?s.append("certificates","yes"):s.append("certificates","no"),s.append("action","get_uo_courses"),s.append("group_id",o),s.append("uo_current_user",uoCertificates.uo_current_user_id),e.$elements.filters.groupWrapper.classList.add("ultp-download-certificates-filter--loading"),fetch(uoCertificates.rest_url+"get-courses-dropdown",{method:"POST",body:s}).then((function(e){return e.json()})).then((function(t){if(e.$elements.filters.groupWrapper.classList.remove("ultp-download-certificates-filter--loading"),t.success&&Array.isArray(t.data)&&0!==t.data.length){"course"===n?e.uoHideBlock(e.$elements.filters.uo_courses_block):e.uoShowBlock(e.$elements.filters.uo_courses_block);var s=[];s.push('<option value="">'+uoCertificates.course_label+"</option>"),t.data.forEach((function(e){return s.push('<option value="'+e.ID+'">'+e.course_title+"</option>")})),e.$elements.filters.uo_courses.html(s),e.uoShowBlock(e.$elements.filters.uo_courses_block),e.$elements.filters.uo_courses.select2()}else e.uoShowErrorBlock(e.$elements.filters.uo_group_block,void 0!==t.msg?t.msg:uoCertificates.i18n.empty)})).catch((function(t){e.$elements.filters.groupWrapper.classList.remove("ultp-download-certificates-filter--loading"),console.error(t)})),e.uoDropDownVisibility(n)):e.uoShowBlock(e.$elements.filters.uo_submit_btn_html):e.uoHideBlock(e.$elements.filters.uo_submit_btn_html)}))}},{key:"getCoursesDropdown",value:function(){var e=this;this.$elements.filters.uo_courses.on("change",(function(t){e.clearAllErrors(),e.uoHideBlock(e.$elements.filters.uo_quizzes_block),e.uoHideBlock(e.$elements.filters.uo_submit_btn_html);var n=e.$elements.filters.uo_cert_type.val(),s=new FormData,o=parseInt(t.target.value);e.$elements.filters.val_uo_groups.val(),e.$elements.filters.val_uo_courses.val(o),"course"!==n?(s.append("action","get_uo_quizzes"),s.append("course_id",o),s.append("uo_current_user",uoCertificates.uo_current_user_id),"quiz"===n&&s.append("certificates","yes"),e.$elements.filters.courseWrapper.classList.add("ultp-download-certificates-filter--loading"),fetch(uoCertificates.rest_url+"get-quiz-dropdown",{method:"POST",body:s}).then((function(e){return e.json()})).then((function(t){if(e.$elements.filters.courseWrapper.classList.remove("ultp-download-certificates-filter--loading"),t.success&&Array.isArray(t.data)&&0!==t.data.length){"quiz"===n?e.uoShowBlock(e.$elements.filters.uo_quizzes_block):e.uoHideBlock(e.$elements.filters.uo_quizzes_block);var s=[];s.push('<option value="">'+uoCertificates.quiz_label+"</option>"),"quiz"===n&&s.push('<option value="any">'+uoCertificates.any_quiz_label+"</option>"),t.data.forEach((function(e){return s.push('<option value="'+e.ID+'">'+e.quiz_title+"</option>")})),e.$elements.filters.uo_quizzes.html(s),e.$elements.filters.uo_quizzes.select2()}else e.uoShowErrorBlock(e.$elements.filters.courseWrapper,void 0!==t.msg?t.msg:uoCertificates.i18n.empty)})).catch((function(t){e.$elements.filters.courseWrapper.classList.remove("ultp-download-certificates-filter--loading"),console.error(t)}))):e.uoShowBlock(e.$elements.filters.uo_submit_btn_html)}))}},{key:"getQuizDropdown",value:function(){var e=this;this.$elements.filters.uo_quizzes.on("change",(function(t){e.clearAllErrors();var n=parseInt(t.target.value);e.$elements.filters.val_uo_quizzes.val(n),""!==t.target.value?e.uoShowBlock(e.$elements.filters.uo_submit_btn_html):e.uoHideBlock(e.$elements.filters.uo_submit_btn_html)}))}},{key:"uoDropDownVisibility",value:function(){"-"==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")&&(this.uoHideBlock(this.$elements.filters.uo_group_block),this.uoHideBlock(this.$elements.filters.uo_courses_block),this.uoHideBlock(this.$elements.filters.uo_quizzes_block)),this.uoShowBlock(this.$elements.filters.uo_group_block),this.uoHideBlock(this.$elements.filters.uo_courses_block),this.uoHideBlock(this.$elements.filters.uo_quizzes_block),this.uoHideBlock(this.$elements.filters.uo_submit_btn_html)}},{key:"uoShowBlock",value:function(e){e.classList.remove("ultp-download-certificates-filter--hidden")}},{key:"uoShowErrorBlock",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e&&e.querySelector(".ultp-download-certificates-dropdowns-error")&&(e.querySelector(".ultp-download-certificates-dropdowns-error").innerText=t)}},{key:"clearAllErrors",value:function(){document.querySelectorAll(".ultp-download-certificates-dropdowns-error").forEach((function(e){return e.innerText=""}))}},{key:"uoHideBlock",value:function(e){e.classList.add("ultp-download-certificates-filter--hidden")}},{key:"populateGroupsDropdown",value:function(){var e=this;o("get-groups-dropdown",{action:"get_uo_groups",certificates:"group"==this.$dropdownType.value?"yes":"no",uo_current_user:uoCertificates.uo_current_user_id,type:this.$elements.filters.uo_cert_type.val()},(function(t){e.populateDropdown(e.$dropdownGroup,t.data)}),(function(e){console.error(e)}))}},{key:"populateDropdown",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.innerHTML="",t.forEach((function(t){return e.insertAdjacentHTML("beforeEnd",'\n\t\t\t<option value="'.concat(t.value,'">\n\t\t\t\t').concat(t.text,"\n\t\t\t</option>\n\t\t"))})),n&&e.dispatchEvent(new Event("change"))}},{key:"$dropdownType",get:function(){return document.getElementById("ultp-download-certificates-type")}},{key:"$dropdownGroup",get:function(){return document.getElementById("ultp-download-certificates-group")}},{key:"$dropdownCourse",get:function(){return document.getElementById("ultp-download-certificates-course")}},{key:"$dropdownQuiz",get:function(){return document.getElementById("ultp-download-certificates-quiz")}},{key:"hasShortcode",get:function(){return i(document.querySelector(".ultp-download-certificates"))}}],t&&L(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();document.addEventListener("DOMContentLoaded",(function(){new _,new $,new q,new O}))})()})();
//# sourceMappingURL=bundle.min.js.map