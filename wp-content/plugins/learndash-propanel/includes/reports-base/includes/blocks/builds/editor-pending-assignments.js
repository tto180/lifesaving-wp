(()=>{"use strict";var e={5792:(e,t,s)=>{s.d(t,{c:()=>d});var a=s(1280),n=s.n(a),r=s(3396);class i extends n().Component{constructor(e){super(e)}render(){let e="",t="";return 1==this.props.text&&(t=(0,a.createElement)("span",{className:"supporting-text"},(0,r.__)("Your report is being generated.","learndash-reports-pro"))),e=(0,a.createElement)("div",{className:"wisdm-learndash-reports-chart-block"},(0,a.createElement)("div",{className:"wisdm-learndash-reports-revenue-from-courses graph-card-container"},(0,a.createElement)("div",{className:"wisdm-graph-loading"},(0,a.createElement)("img",{src:wisdm_learndash_reports_front_end_script_total_revenue_earned.plugin_asset_url+"/images/loader.svg"}),t))),e}}const d=i},7996:(e,t,s)=>{s.d(t,{c:()=>_});var a=s(1280),n=s.n(a),r=s(5792),i=s(3396);const d=window.wp.element,l=window.moment;var c=s.n(l);const o=wisdm_learndash_reports_front_end_script_pending_assignments.ld_api_settings;class p extends a.Component{constructor(e){super(e),this.state={isLoaded:!1,error:null,start_date:null,end_date:null,lock_icon:"",start_date:c()(new Date(wisdm_ld_reports_common_script_data.start_date)).unix(),end_date:c()(new Date(wisdm_ld_reports_common_script_data.end_date)).unix(),upgrade_class:"wisdm-class"},this.durationUpdated=this.durationUpdated.bind(this),this.updateBlock=this.updateBlock.bind(this)}durationUpdated(e){this.setState({start_date:e.detail.startDate,end_date:e.detail.endDate}),wisdm_learndash_reports_front_end_script_pending_assignments.is_pro_version_active&&this.updateBlock()}componentDidMount(){this.updateBlock()}updateBlock(){null==o["sfwd-assignment"]&&(o["sfwd-assignment"]="sfwd-assignment");let e="/rp/v1/pending-assignments?start_date="+this.state.start_date+"&end_date="+this.state.end_date;wisdm_ld_reports_common_script_data.wpml_lang&&(e+="&wpml_lang="+wisdm_ld_reports_common_script_data.wpml_lang),wp.apiFetch({path:e}).then((e=>{if(1!=wisdm_learndash_reports_front_end_script_pending_assignments.is_pro_version_active){const e=(0,a.createElement)("span",{title:(0,i.__)("Please upgrade the plugin to access this feature","learndash-reports-pro"),className:"dashicons dashicons-lock ld-reports top-corner"}),t="";this.setState({graphData:{pendingAssignments:"??",percentChange:"--%",chnageDirectionClass:"udup",percentValueClass:"change-value",hideChange:t},upgrade_class:"wisdm-upgrade-to-pro",isLoaded:!0,lock_icon:e})}else{const t=e.pendingAssignments,s=0;let a="udup",n="change-value",r="",d="",l="";0<s?(a="udup",n="change-value-positive",d=(0,i.__)("Up","learndash-reports-pro"),l=wisdm_learndash_reports_front_end_script_total_revenue_earned.plugin_asset_url+"/images/up.png"):0>s?(a="uddown",n="change-value-negative",d=(0,i.__)("Down","learndash-reports-pro"),l=wisdm_learndash_reports_front_end_script_total_revenue_earned.plugin_asset_url+"/images/down.png"):0==s&&(r="wrld-hidden",d=(0,i.__)("Up","learndash-reports-pro"),l=wisdm_learndash_reports_front_end_script_total_revenue_earned.plugin_asset_url+"/images/up.png"),this.setState({isLoaded:!0,graphData:{pendingAssignments:t,percentChange:s+"%",chnageDirectionClass:a,percentValueClass:n,hideChange:r,udtxt:d,udsrc:l}})}})).catch((e=>{this.setState({error:e,graph_summary:[],series:[],isLoaded:!0})}))}render(){let e=(0,a.createElement)("div",null);if(this.state.isLoaded)if(this.state.error)e=(0,a.createElement)("div",{className:"wisdm-learndash-reports-chart-block error"},(0,a.createElement)("div",null,this.state.error.message));else{let t="";1==wisdm_learndash_reports_front_end_script_pending_assignments.is_admin_user&&(t=(0,a.createElement)("a",{className:"overlay pro-upgrade",href:"https://go.learndash.com/ppaddon",target:"__blank"},(0,a.createElement)("div",{className:"description"},(0,a.createElement)("span",{className:"upgrade-text"},(0,i.__)("Available in PRO version")),(0,a.createElement)("button",{className:"upgrade-button"},(0,i.__)("UPGRADE TO PRO","learndash-reports-pro"))))),e=(0,a.createElement)("div",{className:"wisdm-learndash-reports-chart-block "+this.state.upgrade_class},this.state.lock_icon,(0,a.createElement)("div",{className:"pending-assignments-container top-card-container "},(0,a.createElement)("div",{className:"pending-assignments-icon"},(0,a.createElement)("img",{src:wisdm_learndash_reports_front_end_script_pending_assignments.plugin_asset_url+"/images/icon_pending_assignment_counter.png"})),(0,a.createElement)("div",{className:"pending-assignments-details"},(0,a.createElement)("div",{className:"pending-assignments-text top-label-text"},(0,a.createElement)("span",null,(0,i.__)("Assignments Pending","learndash-reports-pro"))),(0,a.createElement)("div",{className:"pending-assignments-figure"},(0,a.createElement)("span",null,this.state.graphData.pendingAssignments)),(0,a.createElement)("div",{className:`pending-assignments-percent-change ${this.state.graphData.hideChange}`},(0,a.createElement)("span",{className:this.state.graphData.chnageDirectionClass},(0,a.createElement)("img",{src:this.state.graphData.udsrc})),(0,a.createElement)("span",{className:this.state.graphData.percentValueClass},this.state.graphData.percentChange),(0,a.createElement)("span",{className:"ud-txt"},this.state.graphData.udtxt)))),t)}else e=(0,a.createElement)(r.c,null);return e}}const _=p;document.addEventListener("DOMContentLoaded",(function(e){const t=document.getElementsByClassName("wisdm-learndash-reports-pending-assignments front");t.length>0&&(0,d.createRoot)(t[0]).render(n().createElement(p))}))},1280:e=>{e.exports=window.React},3396:e=>{e.exports=window.wp.i18n}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=s(1280);const t=window.wp.blocks;var a=s(3396);s(5792);const n=window.wp.blockEditor;var r=s(7996);wisdm_learndash_reports_front_end_script_pending_assignments.ld_api_settings;const i=(0,e.createElement)("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24.000000pt",height:"24.000000pt",viewBox:"0 0 24.000000 24.000000",preserveAspectRatio:"xMidYMid meet"},(0,e.createElement)("g",null,(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M17.7,6.6h-5.5c-0.4,0-0.7,0.3-0.7,0.6c-0.1,0.1-0.1,0.3,0,0.4c0.1,0.3,0.4,0.5,0.8,0.5h5.5c0.5,0,0.7-0.4,0.7-0.7 C18.4,6.9,18,6.6,17.7,6.6z"}),(0,e.createElement)("path",{d:"M17.7,10.4H6.5c-0.4,0-0.7,0.4-0.7,0.7c-0.1,0.2,0,0.4,0,0.5c0.1,0.2,0.4,0.3,0.7,0.3h11.1c0.5,0,0.7-0.4,0.7-0.7 C18.4,10.7,18,10.4,17.7,10.4z"}),(0,e.createElement)("path",{d:"M17.7,13.9H6.5c-0.5,0-0.7,0.4-0.7,0.7c0,0.3,0.2,0.9,0.7,0.9h11.1c0.5,0,0.7-0.4,0.7-0.7C18.4,14.5,18.2,13.9,17.7,13.9z "}),(0,e.createElement)("path",{d:"M17.7,17.6H6.5c-0.5,0-0.7,0.4-0.7,0.7c0,0.3,0.2,0.9,0.7,0.9h11.1c0.5,0,0.7-0.4,0.7-0.7C18.4,18.2,18.2,17.6,17.7,17.6z "})),(0,e.createElement)("path",{d:"M21.1,2.4C20.9,1.6,20.3,1,19.4,1H4.6C3.7,1,2.9,1.8,2.9,2.7l0,9.3l0,9.3c0,0.9,0.7,1.7,1.7,1.7h14.9 c0.8,0,1.5-0.5,1.7-1.3V2.4z M19.8,21.2c0,0.2-0.1,0.4-0.2,0.4l-1.9,0H5.6v0H4.6c-0.2,0-0.2-0.2-0.3-0.3l0-6.5c0,0,0,0,0,0l0-2.8 l0-2.8c0,0,0,0,0,0l0-6.5c0-0.1,0.1-0.3,0.3-0.3h1.1v2c0,1.2,0.9,2.1,2.1,2.1c1.2,0,2.1-0.9,2.1-2.1V4.1c0-0.4-0.3-0.7-0.7-0.7 c-0.3,0-0.6,0.3-0.6,0.7v0.4c0,0.3-0.3,0.7-0.7,0.7C7.5,5.2,7.2,5,7.2,4.6V2.6l12.4,0c0.1,0,0.3,0.1,0.3,0.3V9V15V21.2z"})));(0,t.registerBlockType)("wisdm-learndash-reports/pending-assignments",{title:(0,a.__)("Pending Assignments","learndash-reports-pro"),description:(0,a.__)("Displays Count of the pending assignments","learndash-reports-pro"),category:"wisdm-learndash-reports",className:"learndash-reports-by-wisdmlabs-pending-assignments",icon:i,attributes:{blockContent:{type:"html",default:""}},edit:t=>(0,e.createElement)("div",{...(0,n.useBlockProps)()},(0,e.createElement)("div",{className:"wisdm-learndash-reports-pending-assignments"},(0,e.createElement)(r.c,null))),save:()=>(0,e.createElement)("div",{...n.useBlockProps.save()},(0,e.createElement)("div",{className:"wisdm-learndash-reports-pending-assignments front"}))})})()})();