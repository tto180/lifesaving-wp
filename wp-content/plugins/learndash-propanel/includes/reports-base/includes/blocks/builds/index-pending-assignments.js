(()=>{"use strict";var e={5792:(e,t,s)=>{s.d(t,{c:()=>d});var a=s(1280),n=s.n(a),r=s(3396);class i extends n().Component{constructor(e){super(e)}render(){let e="",t="";return 1==this.props.text&&(t=(0,a.createElement)("span",{className:"supporting-text"},(0,r.__)("Your report is being generated.","learndash-reports-pro"))),e=(0,a.createElement)("div",{className:"wisdm-learndash-reports-chart-block"},(0,a.createElement)("div",{className:"wisdm-learndash-reports-revenue-from-courses graph-card-container"},(0,a.createElement)("div",{className:"wisdm-graph-loading"},(0,a.createElement)("img",{src:wisdm_learndash_reports_front_end_script_total_revenue_earned.plugin_asset_url+"/images/loader.svg"}),t))),e}}const d=i},1280:e=>{e.exports=window.React},3396:e=>{e.exports=window.wp.i18n}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=s(1280),t=s.n(e),a=s(5792),n=s(3396);const r=window.wp.element,i=window.moment;var d=s.n(i);const l=wisdm_learndash_reports_front_end_script_pending_assignments.ld_api_settings;class o extends e.Component{constructor(e){super(e),this.state={isLoaded:!1,error:null,start_date:null,end_date:null,lock_icon:"",start_date:d()(new Date(wisdm_ld_reports_common_script_data.start_date)).unix(),end_date:d()(new Date(wisdm_ld_reports_common_script_data.end_date)).unix(),upgrade_class:"wisdm-class"},this.durationUpdated=this.durationUpdated.bind(this),this.updateBlock=this.updateBlock.bind(this)}durationUpdated(e){this.setState({start_date:e.detail.startDate,end_date:e.detail.endDate}),wisdm_learndash_reports_front_end_script_pending_assignments.is_pro_version_active&&this.updateBlock()}componentDidMount(){this.updateBlock()}updateBlock(){null==l["sfwd-assignment"]&&(l["sfwd-assignment"]="sfwd-assignment");let t="/rp/v1/pending-assignments?start_date="+this.state.start_date+"&end_date="+this.state.end_date;wisdm_ld_reports_common_script_data.wpml_lang&&(t+="&wpml_lang="+wisdm_ld_reports_common_script_data.wpml_lang),wp.apiFetch({path:t}).then((t=>{if(1!=wisdm_learndash_reports_front_end_script_pending_assignments.is_pro_version_active){const t=(0,e.createElement)("span",{title:(0,n.__)("Please upgrade the plugin to access this feature","learndash-reports-pro"),className:"dashicons dashicons-lock ld-reports top-corner"}),s="";this.setState({graphData:{pendingAssignments:"??",percentChange:"--%",chnageDirectionClass:"udup",percentValueClass:"change-value",hideChange:s},upgrade_class:"wisdm-upgrade-to-pro",isLoaded:!0,lock_icon:t})}else{const e=t.pendingAssignments,s=0;let a="udup",r="change-value",i="",d="",l="";0<s?(a="udup",r="change-value-positive",d=(0,n.__)("Up","learndash-reports-pro"),l=wisdm_learndash_reports_front_end_script_total_revenue_earned.plugin_asset_url+"/images/up.png"):0>s?(a="uddown",r="change-value-negative",d=(0,n.__)("Down","learndash-reports-pro"),l=wisdm_learndash_reports_front_end_script_total_revenue_earned.plugin_asset_url+"/images/down.png"):0==s&&(i="wrld-hidden",d=(0,n.__)("Up","learndash-reports-pro"),l=wisdm_learndash_reports_front_end_script_total_revenue_earned.plugin_asset_url+"/images/up.png"),this.setState({isLoaded:!0,graphData:{pendingAssignments:e,percentChange:s+"%",chnageDirectionClass:a,percentValueClass:r,hideChange:i,udtxt:d,udsrc:l}})}})).catch((e=>{this.setState({error:e,graph_summary:[],series:[],isLoaded:!0})}))}render(){let t=(0,e.createElement)("div",null);if(this.state.isLoaded)if(this.state.error)t=(0,e.createElement)("div",{className:"wisdm-learndash-reports-chart-block error"},(0,e.createElement)("div",null,this.state.error.message));else{let s="";1==wisdm_learndash_reports_front_end_script_pending_assignments.is_admin_user&&(s=(0,e.createElement)("a",{className:"overlay pro-upgrade",href:"https://go.learndash.com/ppaddon",target:"__blank"},(0,e.createElement)("div",{className:"description"},(0,e.createElement)("span",{className:"upgrade-text"},(0,n.__)("Available in PRO version")),(0,e.createElement)("button",{className:"upgrade-button"},(0,n.__)("UPGRADE TO PRO","learndash-reports-pro"))))),t=(0,e.createElement)("div",{className:"wisdm-learndash-reports-chart-block "+this.state.upgrade_class},this.state.lock_icon,(0,e.createElement)("div",{className:"pending-assignments-container top-card-container "},(0,e.createElement)("div",{className:"pending-assignments-icon"},(0,e.createElement)("img",{src:wisdm_learndash_reports_front_end_script_pending_assignments.plugin_asset_url+"/images/icon_pending_assignment_counter.png"})),(0,e.createElement)("div",{className:"pending-assignments-details"},(0,e.createElement)("div",{className:"pending-assignments-text top-label-text"},(0,e.createElement)("span",null,(0,n.__)("Assignments Pending","learndash-reports-pro"))),(0,e.createElement)("div",{className:"pending-assignments-figure"},(0,e.createElement)("span",null,this.state.graphData.pendingAssignments)),(0,e.createElement)("div",{className:`pending-assignments-percent-change ${this.state.graphData.hideChange}`},(0,e.createElement)("span",{className:this.state.graphData.chnageDirectionClass},(0,e.createElement)("img",{src:this.state.graphData.udsrc})),(0,e.createElement)("span",{className:this.state.graphData.percentValueClass},this.state.graphData.percentChange),(0,e.createElement)("span",{className:"ud-txt"},this.state.graphData.udtxt)))),s)}else t=(0,e.createElement)(a.c,null);return t}}document.addEventListener("DOMContentLoaded",(function(e){const s=document.getElementsByClassName("wisdm-learndash-reports-pending-assignments front");s.length>0&&(0,r.createRoot)(s[0]).render(t().createElement(o))}))})()})();