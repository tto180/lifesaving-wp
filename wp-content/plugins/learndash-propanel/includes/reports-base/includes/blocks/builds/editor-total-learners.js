(()=>{"use strict";var e={5792:(e,t,a)=>{a.d(t,{c:()=>d});var r=a(1280),s=a.n(r),n=a(3396);class l extends s().Component{constructor(e){super(e)}render(){let e="",t="";return 1==this.props.text&&(t=(0,r.createElement)("span",{className:"supporting-text"},(0,n.__)("Your report is being generated.","learndash-reports-pro"))),e=(0,r.createElement)("div",{className:"wisdm-learndash-reports-chart-block"},(0,r.createElement)("div",{className:"wisdm-learndash-reports-revenue-from-courses graph-card-container"},(0,r.createElement)("div",{className:"wisdm-graph-loading"},(0,r.createElement)("img",{src:wisdm_learndash_reports_front_end_script_total_revenue_earned.plugin_asset_url+"/images/loader.svg"}),t))),e}}const d=l},312:(e,t,a)=>{a.d(t,{c:()=>p});var r=a(1280),s=a.n(r),n=a(5792);const l=window.moment;var d=a.n(l),c=a(3396);const o=window.wp.element;class i extends r.Component{constructor(e){super(e),this.state={isLoaded:!1,error:null,start_date:d()(new Date(wisdm_ld_reports_common_script_data.start_date)).unix(),end_date:d()(new Date(wisdm_ld_reports_common_script_data.end_date)).unix()},this.durationUpdated=this.durationUpdated.bind(this),this.updateBlock=this.updateBlock.bind(this)}durationUpdated(e){this.setState({start_date:e.detail.startDate,end_date:e.detail.endDate}),this.updateBlock()}componentDidMount(){document.addEventListener("duration_updated",this.durationUpdated),this.updateBlock()}updateBlock(){let e="/rp/v1/total-learners?start_date="+this.state.start_date+"&end_date="+this.state.end_date;wisdm_ld_reports_common_script_data.wpml_lang&&(e+="&wpml_lang="+wisdm_ld_reports_common_script_data.wpml_lang),wp.apiFetch({path:e}).then((e=>{const t=e.percentChange;let a="udup",r="change-value",s="",n="",l="";0<t?(a="udup",r="change-value-positive",n=(0,c.__)("Up","learndash-reports-pro"),l=wisdm_learndash_reports_front_end_script_total_revenue_earned.plugin_asset_url+"/images/up.png"):0>t?(a="uddown",r="change-value-negative",n=(0,c.__)("Down","learndash-reports-pro"),l=wisdm_learndash_reports_front_end_script_total_revenue_earned.plugin_asset_url+"/images/down.png"):0==t&&(s="wrld-hidden",n=(0,c.__)("Up","learndash-reports-pro"),l=wisdm_learndash_reports_front_end_script_total_revenue_earned.plugin_asset_url+"/images/up.png"),this.setState({isLoaded:!0,graphData:{totalLearners:e.totalLearners,percentChange:t+"%",chnageDirectionClass:a,percentValueClass:r,hideChange:s,udtxt:n,udsrc:l},startDate:d().unix(e.requestData.start_date).format("MMM, DD YYYY"),endDate:d().unix(e.requestData.end_date).format("MMM, DD YYYY")})})).catch((e=>{this.setState({error:e,graph_summary:[],isLoaded:!0,series:[]})}))}render(){let e=(0,r.createElement)("div",null);return e=this.state.isLoaded?this.state.error?(0,r.createElement)("div",{className:"wisdm-learndash-reports-chart-block error"},(0,r.createElement)("div",null,this.state.error.message)):(0,r.createElement)("div",{className:"wisdm-learndash-reports-chart-block"},(0,r.createElement)("div",{className:"total-learners-container top-card-container"},(0,r.createElement)("div",{className:"wrld-date-filter"},(0,r.createElement)("span",{className:"dashicons dashicons-calendar-alt"}),(0,r.createElement)("div",{className:"wdm-tooltip"},(0,c.__)("Date filter applied:","learndash-reports-pro"),(0,r.createElement)("br",null),this.state.startDate," -"," ",this.state.endDate)),(0,r.createElement)("div",{className:"total-learners-icon"},(0,r.createElement)("img",{src:wisdm_learndash_reports_front_end_script_total_learners.plugin_asset_url+"/images/icon_learners_counter.png"})),(0,r.createElement)("div",{className:"total-learners-details"},(0,r.createElement)("div",{className:"total-learners-text top-label-text"},(0,r.createElement)("span",null,(0,c.__)("Total Learners","learndash-reports-pro"))),(0,r.createElement)("div",{className:"total-learners-figure"},(0,r.createElement)("span",null,this.state.graphData.totalLearners)),(0,r.createElement)("div",{className:`total-learners-percent-change ${this.state.graphData.hideChange}`},(0,r.createElement)("span",{className:this.state.graphData.chnageDirectionClass},(0,r.createElement)("img",{src:this.state.graphData.udsrc})),(0,r.createElement)("span",{className:this.state.graphData.percentValueClass},this.state.graphData.percentChange),(0,r.createElement)("span",{className:"ud-txt"},this.state.graphData.udtxt))))):(0,r.createElement)(n.c,null),e}}const p=i;document.addEventListener("DOMContentLoaded",(function(e){const t=document.getElementsByClassName("wisdm-learndash-reports-total-learners front");t.length>0&&(0,o.createRoot)(t[0]).render(s().createElement(i))}))},1280:e=>{e.exports=window.React},3396:e=>{e.exports=window.wp.i18n}},t={};function a(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,a),n.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=a(1280);const t=window.wp.blocks;var r=a(3396);a(5792);const s=window.wp.blockEditor;var n=a(312);const l=(0,e.createElement)("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24.000000pt",height:"24.000000pt",viewBox:"0 0 24.000000 24.000000",preserveAspectRatio:"xMidYMid meet"},(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M7.4,10.8L7.4,10.8l0.1,0.1C7.6,12,8.3,13,9.2,13.8l0.8,0.4c1,0.5,2.7,0.5,3.7,0l0.8-0.4c0.9-0.8,1.5-1.8,1.7-2.9v-0.1h0.1 c0.4-0.1,0.7-0.5,0.7-1v-3l0,0c0.1-0.1,0.2-0.4,0.2-0.6V4.8l2.1-0.4c0.3-0.1,0.6-0.3,0.6-0.8l0,0c0.1-0.2,0-0.4-0.1-0.5 c-0.1-0.2-0.3-0.3-0.5-0.4l-7.5-2.4h-0.5L4.1,2.7C3.7,2.8,3.5,3.2,3.5,3.6c0,0.2,0.1,0.3,0.2,0.5c0,0.1,0.1,0.1,0.1,0.2v0.1v1.8 H3.7c-0.5,0-0.8,0.4-0.8,0.7v0.9l-0.4,3.1c0,0.2,0,0.5,0.1,0.8C2.7,11.9,2.9,12,3.3,12H5c0.3,0,0.5-0.1,0.7-0.3l0,0 c0.1-0.2,0.2-0.5,0.1-0.6V11L5.4,8V6.9c0-0.3-0.3-0.7-0.7-0.8H4.6V4.5l1.7,0.3v1.5c0,0.3,0.1,0.5,0.2,0.6l0,0v3 C6.6,10.3,7,10.7,7.4,10.8z M16.1,10.1h-0.2c-0.4,0-0.6,0.3-0.6,0.6c-0.1,1.9-1.6,3.1-3.4,3.1s-3.3-1.2-3.4-3.1 c0-0.4-0.3-0.7-0.7-0.7c-0.1,0-0.3-0.1-0.3-0.3V9h0.4c0.7,0,1.2-0.5,1.2-1.2V7h5.4v0.7c0,0.7,0.6,1.3,1.2,1.3h0.4V10.1z M7.5,8.1V7 h0.8v0.7c0,0.3-0.1,0.4-0.4,0.4C7.9,8.1,7.5,8.1,7.5,8.1z M16.1,8.1h-0.4c-0.1,0-0.4-0.1-0.4-0.4V7h0.8V8.1z M3.8,7h0.7v0.5H3.8V7z M4.6,8.3L5,10.9H3.3l0.4-2.5L4.6,8.3L4.6,8.3z M4.4,3.5l7.4-2.4l7.4,2.4l-2.4,0.4L15.7,4c-0.1,0.1-0.1,0.2-0.1,0.4 c0,0.3,0.1,0.4,0.4,0.5L16.7,5v1.3H7.3V4.9l3.9-0.5c0.5-0.1,1-0.1,1.7,0l1.3,0.1c0.1,0,0.3-0.2,0.3-0.3c0-0.3-0.1-0.4-0.4-0.5 l-1.3-0.1c-0.7-0.1-1.3-0.1-1.8,0L6.8,4L4.4,3.5z"}),(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M22,18.9v-0.4c0-1-0.7-1.8-1.6-2.1l-6.2-1.7v-1l-0.9,0.6v0.5L12,16.1l-1.3-1.3v-0.5l-0.9-0.5v0.9l-6.2,1.7 c-1,0.3-1.6,1.1-1.6,2.1v0.4v0.9v2v1.5c0,0.2,0.2,0.4,0.4,0.4h19.2c0.2,0,0.4-0.2,0.4-0.4v-1.1v-2.4V18.9z M21.1,22.8h-2.6v-3.5 h-0.9v3.5H6.3v-3.5H5.5v3.5H2.9v-4.3c0-0.6,0.4-1.1,1-1.3l6.3-1.8l1.6,1.6c0.2,0.2,0.4,0.2,0.6,0l1.6-1.6l6.3,1.8 c0.6,0.2,1,0.7,1,1.3v4.3H21.1z"}))));(0,t.registerBlockType)("wisdm-learndash-reports/total-learners",{title:(0,r.__)("Total Learners","learndash-reports-pro"),description:(0,r.__)("Displays Count of the enrolled learners","learndash-reports-pro"),category:"wisdm-learndash-reports",className:"learndash-reports-by-wisdmlabs-total-learners",icon:l,attributes:{blockContent:{type:"html",default:""}},edit:t=>(0,e.createElement)("div",{...(0,s.useBlockProps)()},(0,e.createElement)("div",{className:"wisdm-learndash-reports-total-learners"},(0,e.createElement)(n.c,null))),save:()=>(0,e.createElement)("div",{...s.useBlockProps.save()},(0,e.createElement)("div",{className:"wisdm-learndash-reports-total-learners front"}))})})()})();